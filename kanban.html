<!DOCTYPE html>
<html>
<head>
	<title>kanban board</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width" initial-scale="1.0">
	 <!--Import Google Icon Font-->
       <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
       <!-- Compiled and minified CSS -->
  	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/css/materialize.min.css">
<style type="text/css">
	.row{
	margin-top: 100px;
}
h5{
	text-align: center;
}
.card-panel , .collection {
	margin: 0px;
	overflow: inherit;
}
.ui-state-highlight {
	background-color: #fafafa;
	height: calc(1.5rem + 20px);
}
.collection-item .badge{
	margin-right: -10px;
	padding-right: 0;
}
.collection-item:hover .badge .material-icons{
	display: block;
}
.collection-item .badge .material-icons {
    display: none;
}
.badge:hover{
    opacity: 0.5
};
.collection .collection-item {
    border-bottom: none; 
}
.card .collection .collection-item {
	transition: 0s;
	border-bottom: 1px solid #9e9e9e;
}
.input-field {
	width: 280px;
    margin-left: 10px;
}
.card-panel {
	color:  #ffffff;
}
</style>
</head>
<body>
	<header>	
  <nav>
    <div class="nav-wrapper">
      <a href="#" class="brand-logo center">kanban board</a>
    </div>
  </nav>
	</header>
	<section  class="container">
		<div class="row">
			<div class="col m4">
				<div class="card">
					<h5 class="card-panel  red lighten-1">TODO</h5>
					 <div class="collection list" id="todo">
        				<div>
        					<a href="#!" class="collection-item ">Alvin<span class="badge"><i class="material-icons">delete</i></span></a>
        				</div>
       					<div>
       						<a href="#!" class="collection-item ">Alvin<span class="badge"><i class="material-icons">delete</i></span></a>
       					</div>
        				<div>
        					<a href="#!" class="collection-item">Alvin<span class="badge"><i class="material-icons">delete</i></span></a>
        				</div>
        				<div>
        					<a href="#!" class="collection-item">Alvin<span class="badge"><i class="material-icons">delete</i></span></a>
        				</div>	
     				 </div>
     				 <div class="input-field">
        				<input id="todo" type="text" class="validate" onkeydown="app.newJob(event,'todo' , this)">
         				<label for="todo">New job</label>
         				</div>
				</div>
			</div>
			<div class="col m4">
				<div class="card ">
					<h5 class="card-panel teal lighten-2">DOING</h5>
					 <div class="collection list" id="doing">
        				<div>
        					<a href="#!" class="collection-item ">Alvin<span class="badge"><i class="material-icons">delete</i></span></a>
        				</div>
     				 </div>
     				 <div class="input-field">
        				<input id="doing" type="text" class="validate" onkeydown="app.newJob(event,'doing' , this)">
         				<label for="doing">New job</label>
         				</div>
				</div>
			</div>
			<div class="col m4">
				<div class="card ">
					<h5 class="card-panel green accent-4" >DONE</h5>
					 <div class="collection list" id="done">
					 	<div>
        				<a href="#!" class="collection-item ">Alvin<span class="badge"><i class="material-icons">delete</i></span></a>
        				</div>
        				<div>
       					<a href="#!" class="collection-item ">Alvin<span class="badge"><i class="material-icons">delete</i></span></a>
       					</div>
       					<div>
       						<a href="#!" class="collection-item ">Alvin<span class="badge"><i class="material-icons">delete</i></span></a>
       					</div>
     				 </div>
     				 <div class="input-field">
        				<input id="done" type="text" class="validate" onkeydown="app.newJob(event,'done' , this)">
         				<label for="done">New job</label>
         			</div>
				</div>
			</div>
		</div>
	</section>
<div id="modal-confirm" class="modal">
    <div class="modal-content">
        <h4>Confirm Delete</h4>
        <p>Are you sure to delete this job?</p>
    </div>
    <div class="modal-footer">
        <a href="#!" class="modal-action waves-effect waves-light btn" id="btn-delete"> Agree </a>
        <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">cancel</a>
    </div>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
 <!-- Compiled and minified JavaScript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/js/materialize.min.js"></script>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.js"></script>
<script type="text/javascript">
var app = {
  newJob: function(e , type , input){
    var jobName = $(input).val();
    var event = window.event || e;
    if(event.keyCode === 13 && jobName.trim() !== ''){
      // update DOM
      this.addJobToList(type , jobName);
      // reset input
      $(input).val('');
    }
  },
  addJobToList : function (type , jobName){
    var item = '<div> <a href="#!" class="collection-item"> '+ jobName +' <span class="badge" onclick="app.deleteJob(this)"><i class="material-icons">delete</i></span></a> </div>'; 

    $('#' + type).append(item);
 },
  deleteJob : function(span){
  	var modal = $('#modal-confirm').modal();
  	var item = $(span).parent();

  	modal.modal('open');

  	$('#btn-delete').on('click' , function(){
  		item.remove();
  		modal.modal('close');	
  	});
  }
}
$( function() {
	 $( ".list" ).sortable({
  	  connectWith: ".list",
  		placeholder: "ui-state-highlight",
  		  start: function (event,ui){
	   	 	   $(ui.item[0]).addClass('dragging');
    		},
    		stop: function(event,ui){
    		 	$(ui.item[0]).removeClass('dragging');
    		}
  	});
});
</script>
</body>
</html>